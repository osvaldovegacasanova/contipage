---
import Container from "../../shared/Container.astro";
import Title2 from "../../shared/Title2.astro";
import SubTitle2 from "../../shared/SubTitle2.astro";
import GradiantText from "../../shared/GradiantText.astro";
import Paragraph from "../../shared/Paragraph.astro";
import LazyImage from "../../shared/LazyImage.astro";
import { servicesSectionData } from "./data.ts";

export interface Props {
  className?: string;
}

const { className } = Astro.props;
---

<section id="servicios" class={`bg-box-bg/40 pt-4 md:pt-5 pb-12 md:pb-16 ${className}`}>
  <Container size="wide">
    <div class="space-y-8">
      <div class="space-y-3">
        <Title2>{servicesSectionData.title}</Title2>
        <SubTitle2 as="h2">
          {servicesSectionData.subheading.text1_1}
          <GradiantText> {servicesSectionData.subheading.text1_2}</GradiantText>
        </SubTitle2>
        <Paragraph className="max-w-3xl text-heading-3">
          {servicesSectionData.subheading.text2}
        </Paragraph>
      </div>

      <div class="bg-body border border-box-border/60 rounded-3xl shadow-sm overflow-hidden">
        <ul class="divide-y divide-box-border">
          {
            servicesSectionData.services.map((service, index) => {
              const isEven = index % 2 === 0;
              const flexDirection = isEven ? "sm:flex-row" : "sm:flex-row-reverse";
              const textAlignment = isEven ? "sm:text-left" : "sm:text-right";
              const imageMargin = isEven
                ? "sm:mr-6 sm:ml-0"
                : "sm:ml-6 sm:mr-0";
              return (
                <li class={`flex flex-col gap-5 px-6 py-8 ${flexDirection} sm:items-center`}>
                  <div
                    class={`mx-auto flex h-[7.75rem] w-[7.75rem] flex-shrink-0 items-center justify-center overflow-hidden rounded-full border border-box-border bg-box-bg shadow-sm sm:mx-0 ${imageMargin}`}
                  >
                    <LazyImage
                      src={service.visual}
                      alt={service.title}
                      class="h-full w-full object-cover"
                      height="192"
                    />
                  </div>
                  <div class={`flex-1 space-y-3 text-center ${textAlignment}`}>
                    <h3 class="text-lg font-semibold uppercase tracking-wide text-primary">
                      {service.title}
                    </h3>
                    <Paragraph className="text-heading-3 leading-relaxed">
                      {service.briefDescription}
                    </Paragraph>
                  </div>
                </li>
              );
            })
          }
        </ul>
      </div>
    </div>
  </Container>
</section>
